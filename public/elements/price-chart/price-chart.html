<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<dom-module id="price-chart">
  <style>
    :host {
      display: block;
    }

    @media (max-width: 600px) {
      h1.paper-font-display1 {
        font-size: 24px;
      }
    }
  </style>
  <template>
    <v-chart id="chart" type="line">


      <tooltip formatter="function() {return '' + this.series.name + ' ' + this.x + ': ' + this.y + 'Â°C';}"></tooltip>

      <plot-options>
          <line>
              <data-labels enabled="true"></data-labels>
          </line>
      </plot-options>

      <title>{{title}}</title>
      <subtitle text=""></subtitle>
      <x-axis>
          <categories>Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec</categories>
          <labels auto-rotation="0" step="4"></labels>
      </x-axis>

      <y-axis>
          <labels y="-2" x="2" align="left"></labels>
          <title align="high" x="8" y="-10">Price ($)</title>
      </y-axis>
      <chart spacing-bottom="10" spacing-top="20" spacing-left="0" spacing-right="10"></chart>
      <legend enabled="false"></legend>

      <v-series name="test" data="200,600,300"></v-series>
      <v-series name="Price" data="{{data}}">
          <data>302, 377, 316, 577, 639, 468, 371, 53, 493, 750, 528, 863, 217, 987, 546, 775, 258, 300, 460, 213, 464, 306, 426, 896, 356, 78, 107, 692, 521, 840, 549, 974, 830, 805, 773, 821, 901, 285, 224, 910, 96, 939, 409, 928, 598, 103, 288, 652, 595, 510, 995, 628, 159, 855, 979, 228, 740, 345, 86</data>
      </v-series>
    </v-chart>
    <script type="text/javascript">
      //console.log(document.querySelector('#price-chart').chart);
    </script>
  </template>

  <script>
    (function() {
      Polymer({
        is: 'price-chart',

        properties: {
          title: {
            type: String,
            value: "Price"
          },
          data: {
            type: Array,
            notify: true,
            value: function() { return [1,2,3,4,5,6,7,8,9]; }
          }
          //data:
        },
        ready: function(){
          var highchartsObject = this.$.chart.chart
          console.log(highchartsObject);
          var data = [
            [1183939200000,40.71],
            [1184025600000,40.38],
            [1184112000000,40.82],
            [1184198400000,41.55],
            [1184284800000,41.18],
            [1184544000000,41.06],
            [1184630400000,41.47]];
          //highchartsObject.series[0].setData(data);
        }
      });
    })();
  </script>

</dom-module>
